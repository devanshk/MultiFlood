"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.npmExists = void 0;
const got_1 = __importDefault(require("got"));
// TODO: to understand the type
// eslint-disable-next-line
const constant = (value) => (res) => value;
/**
 *
 * Checks if the given dependency/module is registered on npm
 *
 * @param {String} moduleName - The dependency to be checked
 * @returns {Promise} constant - Returns either true or false,
 * based on if it exists or not
 */
// TODO: figure out the correct type here
// eslint-disable-next-line
function npmExists(moduleName) {
    const hostname = 'https://www.npmjs.org';
    const pkgUrl = `${hostname}/package/${moduleName}`;
    return got_1.default(pkgUrl, {
        method: 'HEAD',
    })
        .then(constant(true))
        .catch(constant(false));
}
exports.npmExists = npmExists;
